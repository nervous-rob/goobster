# Goobster

## Description

A feature-rich Discord chatbot designed using the Discord.js framework, featuring AI-powered chat, intelligent web search, and dynamic audio capabilities.

## Features

- AI-powered chat using OpenAI GPT models
- Intelligent web search using Perplexity AI
- Dynamic background music system with fade transitions
- Voice channel integration for immersive experiences
- Database integration for persistent data storage

## Table of Contents

- [Installation](#installation)
- [Usage](#usage)
- [Configuration](#configuration)
- [Features](#features)
- [Contributing](#contributing)

## Installation and Configuration

### Prerequisites

Software required to run the Goobster chatbot:
- Node.js (v16 or higher)
- FFmpeg (for audio processing)
- Docker (optional)

### Dependencies

```bash
npm install discord.js @discordjs/voice ffmpeg-static libsodium-wss @discordjs/opus
```

### Configuration

The Goobster chatbot requires a `config.json` file in the project directory with the following configuration settings:

```json
{
	"clientId": "<discord bot client id>",
	"guildId": "<discord server id>",
	"token": "<discord bot token>",
	"openaiKey": "<openai API key>",
	"perplexityKey": "<perplexity API key>",
	"azureSpeech": {
		"key": "<azure speech service key>",
		"region": "<azure speech service region>"
	},
	"azureSql": {
		"user": "your_username",
		"password": "your_password",
		"database": "your_database",
		"server": "your_server.database.windows.net",
		"options": {
		  "encrypt": true,
		  "trustServerCertificate": false
		}
	},
	"audio": {
		"defaultVolume": 1.0,
		"fadeInDuration": 2000,
		"fadeOutDuration": 2000,
		"backgroundMusicPath": "./data/music/"
	}
}
```

Replace the placeholders with the appropriate values for your Discord bot and OpenAI API key.

Once you have the `config.json` file set up, you can proceed with the installation and usage instructions below.

### Docker

To build and run the Goobster chatbot using Docker, follow these steps:

1. Make sure you have Docker installed on your machine.

2. Clone the Goobster repository:
    ```bash
    git clone https://github.com/nervous-rob/goobster.git
    ```

3. Navigate to the project directory:
    ```bash
    cd goobster
    ```

4. Copy your `config.json` file to the project directory with the required configuration settings.

5. Build the Docker image:
    ```bash
    docker build -t goobster .
    ```

6. Run the Docker container:
    ```bash
    docker run -d goobster
    ```

Now you should have the Goobster chatbot up and running using Docker!

### Manual

To run the Goobster chatbot manually, follow these steps:

1. Clone the Goobster repository:
    ```bash
    git clone
    ```
2. Navigate to the project directory:
    ```bash
    cd goobster
    ```
3. Install the required dependencies:
    ```bash
    npm install
    ```
4. Copy your `config.json` file to the project directory with the required configuration settings.
5. Run the chatbot:
    ```bash
    node index.js
    ```
Now you should have the Goobster chatbot up and running!

## Usage

Once the Goobster chatbot is up and running, you can interact with it in your Discord server by mentioning it in the chat and typing a message. The chatbot will respond with a message generated by the OpenAI API.

## Features

### AI Chat
- Natural language conversations using OpenAI GPT models
- Customizable chat prompts and conversation memory
- Multi-turn dialogue support

### Intelligent Search
- Web search capabilities powered by Perplexity AI
- Detailed and concise response options
- Natural language query processing

### Audio System
- Dynamic background music with fade transitions
- Support for multiple music types (battle, celebration, danger)
- Volume control and music regeneration
- Seamless voice channel integration

### Database Integration
- Persistent storage of user data and conversations
- Azure SQL database support
- Secure credential management
